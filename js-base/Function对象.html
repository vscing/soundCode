<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Function对象</title>
</head>
<body>
  <script type="text/javascript">
    /**
     * Function.length
     * length 属性指明函数的形参个数。
     */
    function a() {}
    function b(b1, b2) {
      console.log(arguments);
    }
    console.log('lenght', a.lenght);
    console.log('lenght', b.length);
    b(1,2);

    /** 
     * function.name 属性返回函数实例的名称。
    */
    console.log('name', a.name);
    console.log('name', b.name);

    /** 
     * Function.prototype.toString()
     * toString() 方法返回一个表示当前函数源代码的字符串。
     * function.toString()
     * 表示函数源代码的一个字符串
    */
    console.log('toString', a.toString());
    console.log('toString', b.toString());

    /** 
     * Function.prototype.apply()
     * apply() 方法调用一个具有给定this值的函数，以及以一个数组（或类数组对象）的形式提供的参数。
     * func.apply(thisArg, [argsArray])
     * 调用有指定this值和参数的函数的结果。
    */
    const numbers = [5, 6, 2, 3, 7];

    const max = Math.max.apply(null, numbers);

    console.log(max);
    // expected output: 7

    const min = Math.min.apply(null, numbers);

    console.log(min);

    /** 
     * Function.prototype.bind()
     * bind() 方法创建一个新的函数，在 bind() 被调用时，这个新函数的 this 被指定为 bind() 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。
     * function.bind(thisArg[, arg1[, arg2[, ...]]])
     * 返回一个原函数的拷贝，并拥有指定的 this 值和初始参数。 // 深拷贝
    */
    window.x = 53;
    const module = {
      x: 42,
      getX: function() {
        return this.x;
      }
    };

    const unboundGetX = module.getX;
    console.log(unboundGetX()); // The function gets invoked at the global scope
    // expected output: undefined

    const boundGetX = unboundGetX.bind(module);
    console.log(boundGetX === unboundGetX, boundGetX());

    /** 
     * Function.prototype.call()
     * call() 方法使用一个指定的 this 值和单独给出的一个或多个参数来调用一个函数。
     * function.call(thisArg, arg1, arg2, ...)
     * 使用调用者提供的 this 值和参数调用该函数的返回值。若该方法没有返回值，则返回 undefined。
    */
    function Product(name, price) {
      this.name = name;
      this.price = price;
    }

    function Food(name, price) {
      Product.call(this, name, price);
      this.category = 'food';
    }

    console.log(new Food('cheese', 5).name);
    // expected output: "cheese"
  </script>
</body>
</html>
