<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>string对象系列属性方法</title>
</head>
<body>
  <script type="text/javascript">
    function Person(name, age){
      this.name = name;
      this.age = age;
    }

    Person.prototype.getName = function(){
      console.log(this.name);
    }

    var son1 = new Person('son1', 19);
    var son2 = new Person('son2', 20);
    var son3 = {};
    console.dirxml(son1);
    console.dirxml(son2);
    console.dirxml(son3);

    /** 
     * String.length
     * length 属性表示一个字符串的长度。
    */
    console.log('123'.length);

    /**
     * String.prototype[@@iterator]()
     * [@@iterator]() 方法返回一个新的Iterator对象，它遍历字符串的代码点，返回每一个代码点的字符串值
     */
    let str = 'The quick red fox jumped over the lazy dog\'s back.';
    const iterator = str[Symbol.iterator]();
    let theChar = iterator.next();
    console.dirxml(iterator);

    while (!theChar.done && theChar.value !== ' ') {
      // console.log(theChar.value);
      theChar = iterator.next();
      // expected output: "T"
      //                  "h"
      //                  "e"
    }

    /** 
     * String.prototype.at()
     * at()方法接受一个整数值并返回一个新的字符串，该字符串由位于指定偏移量的单个UTF-16代码单元组成。
     * 这个方法允许正整数和负整数。负整数从最后一个字符串字符开始倒数。
    */
    const sentence = 'The quick brown fox jumps over the lazy dog.';
    // console.log(sentence.at(3), sentence.at(4));

    /** 
     * String.prototype.charAt()
     * charAt() 方法从一个字符串中返回指定的字符。
    */
    console.log(sentence.charAt(3), sentence.charAt(4), sentence.charAt(9));

    /** 
     * String.prototype.charCodeAt()
     * charCodeAt() 方法返回 0 到 65535 之间的整数，表示给定索引处的 UTF-16 代码单元
    */
    console.log(sentence.charCodeAt(3), sentence.charCodeAt(4), sentence.charCodeAt(9));

    /** 
     * String.prototype.codePointAt()
     * codePointAt() 方法返回 一个 Unicode 编码点值的非负整数。
    */
    console.log('ABC'.codePointAt(1));          // 66
    console.log('\uD800\uDC00'.codePointAt(0)); // 65536


    /** 
     * String.prototype.concat()
     * concat() 方法将一个或多个字符串与原字符串连接合并，形成一个新的字符串并返回。
    */
    let hello = 'Hello, ';
    console.log(hello.concat(' ', 'word', ' ','js'));

    /** 
     * String.prototype.endsWith()
     * endsWith()方法用来判断当前字符串是否是以另外一个给定的子字符串“结尾”的，根据判断结果返回 true 或 false。
     * 大小写敏感
    */
    str = "hello word";
    console.log(str.endsWith('word', str.length));

    /** 
     * String.fromCharCode()
     * 静态 String.fromCharCode() 方法返回由指定的 UTF-16 代码单元序列创建的字符串。
    */
    console.log(String.fromCharCode(189, 43, 190, 61));

    /** 
     * String.prototype.includes()
     * includes() 方法用于判断一个字符串是否包含在另一个字符串中，根据情况返回 true 或 false。
     * 方法是区分大小写的
    */
    console.log('Blue Whale'.includes('blue')); // returns false


    /** 
     * String.prototype.indexOf()
     * indexOf() 方法返回调用它的 String 对象中第一次出现的指定值的索引，从 fromIndex 处进行搜索。如果未找到该值，则返回 -1。
     * 区分大小写
    */
    console.log('Blue Whale'.includes('e'));

    /** 
     * String.prototype.lastIndexOf()
     * lastIndexOf() 方法返回调用String 对象的指定值最后一次出现的索引，在一个字符串中的指定位置 fromIndex处从后向前搜索。
     * 如果没找到这个特定值则返回-1 。
     * 该方法将从尾到头地检索字符串 str，看它是否含有子串 searchValue。
     * 开始检索的位置在字符串的 fromIndex 处或字符串的结尾（没有指定 fromIndex 时）。
     * 如果找到一个 searchValue，则返回 searchValue 的第一个字符在 str 中的位置。str中的字符位置是从 0 开始的。
    */
    console.log('Blue Whale'.includes('l'));

    /**
     * String.prototype.localeCompare()
     * localeCompare() 方法返回一个数字来指示一个参考字符串是否在排序顺序前面或之后或与给定字符串相同。
     */
    console.log('a'.localeCompare('c'));

    /** 
     * String.prototype.match()
     * match() 方法检索返回一个字符串匹配正则表达式的结果。
     * 返回数组
    */
    console.log(str.match(/[A-Z]/g));

    /** 
     * String.prototype.matchAll()
     * matchAll() 方法返回一个包含所有匹配正则表达式的结果及分组捕获组的迭代器。
     * （不可重用，结果耗尽需要再次调用方法，获取一个新的迭代器）
    */
    console.log('test1test2'.matchAll(/t(e)(st(\d?))/g), [...'test1test2'.matchAll(/t(e)(st(\d?))/g)]);

    /**
     * String.prototype.padEnd()
     * padEnd()方法会用一个字符串填充当前字符串（如果需要的话则重复填充），返回填充后达到指定长度的字符串。
     * 从当前字符串的末尾（右侧）开始填充。
     */
    console.log('Breaded Mushrooms'.padEnd(25, '.'));

    /**
     * String.prototype.padStart()
     * padStart() 方法用另一个字符串填充当前字符串(如果需要的话，会重复多次)，以便产生的字符串达到给定的长度。从当前字符串的左侧开始填充。
     */
    console.log('abc'.padStart(10, '.'));


    /**
     * String.prototype.repeat()
     * repeat() 构造并返回一个新字符串，该字符串包含被连接在一起的指定数量的字符串的副本。
     */
    console.log('abc'.repeat(2));

    /**
     * String.prototype.replace()
     * replace() 方法返回一个由替换值（replacement）替换部分或所有的模式（pattern）匹配项后的新字符串。
     * 模式可以是一个字符串或者一个正则表达式，替换值可以是一个字符串或者一个每次匹配都要调用的回调函数。
     * 如果pattern是字符串，则仅替换第一个匹配项。原字符串不会改变。
     */
    var p = 'The quick brown fox jumps over the lazy dog. If the dog reacted, was it really lazy?';
    console.log(p.replace('dog', 'monkey'));

    /** 
     * String.prototype.replaceAll()
     * replaceAll() 方法返回一个新字符串，新字符串所有满足 pattern 的部分都已被replacement 替换。
     * pattern可以是一个字符串或一个 RegExp， replacement可以是一个字符串或一个在每次匹配被调用的函数。原始字符串保持不变。
    */
    console.log(p.replaceAll('dog', 'monkey'));

    /**
     * String.prototype.search()
     * search() 方法执行正则表达式和 String 对象之间的一个搜索匹配。
     * 如果匹配成功，则 search() 返回正则表达式在字符串中首次匹配项的索引;否则，返回 -1。
    */
    console.log(p.search(/[^\w\s]/g));

    /** 
     * String.prototype.slice()
     * slice() 方法提取某个字符串的一部分，并返回一个新的字符串，且不会改动原字符串。
     * str.slice(beginIndex[, endIndex])
     * 返回一个从原字符串中提取出来的新字符串
    */
    str = '123456';
    console.log(str.slice(3))

    /** 
     * String.prototype.split() 
     * split() 方法使用指定的分隔符字符串将一个String对象分割成子字符串数组，以一个指定的分割字串来决定每个拆分的位置。 
     * str.split([separator[, limit]])
     * 返回源字符串以分隔符出现位置分隔而成的一个 Array 
    */
    str = "1 2 3 4 5 6";
    console.log(str.split(' ', 3));

    /**
     * String.prototype.startsWith()
     * startsWith() 方法用来判断当前字符串是否以另外一个给定的子字符串开头，并根据判断结果返回 true 或 false。
     * str.startsWith(searchString[, position])
     * 如果在字符串的开头找到了给定的字符则返回true；否则返回false。
    */
    str = 'Saturday night plans';
    console.log(str.startsWith('Sat'), str.startsWith('Sat', 3));

    /**
     * String.prototype.substring()
     * substring() 方法返回一个字符串在开始索引到结束索引之间的一个子集, 或从开始索引直到字符串的末尾的一个子集。
     * str.substring(indexStart[, indexEnd]) 
     * 包含给定字符串的指定部分的新字符串。
    */
    str = "Mozilla";
    console.log(str.substring(0), str.substring(0, 4));

    /** 
     * String.prototype.toLocaleLowerCase()
     * toLocaleLowerCase()方法根据任何指定区域语言环境设置的大小写映射，返回调用字符串被转换为小写的格式。
     * str.toLocaleLowerCase() str.toLocaleLowerCase(locale) str.toLocaleLowerCase([locale, locale, ...])
     * 根据任何特定于语言环境的案例映射规则将被调用字串转换成小写格式的一个新字符串。
    */
    console.log('ALPHABET'.toLocaleLowerCase());

    /** 
     * String.prototype.toLocaleUpperCase()
     * toLocaleUpperCase() 方法根据本地主机语言环境把字符串转换为大写格式，并返回转换后的字符串。
     * str.toLocaleUpperCase() str.toLocalUpperCase(locale) str.toLocalUpperCase([locale, locale, ...])
     * 根据任何特定于语言环境的大小写映射，表示转换为大写的调用字符串的新字符串。
    */
    console.log('alphabet'.toLocaleUpperCase());

    /** 
     * String.prototype.toLowerCase()
     * toLowerCase() 会将调用该方法的字符串值转为小写形式，并返回。
     * str.toLowerCase()
     * 一个新的字符串，表示转换为小写的调用字符串。
    */
    console.log('ALPHABET'.toLowerCase());

    /** 
     * String.prototype.toUpperCase()
     * toUpperCase() 方法将调用该方法的字符串转为大写形式并返回（如果调用该方法的值不是字符串类型会被强制转换）。
     * str.toUppleCase()
     * 一个新的字符串，表示转换为大写的调用字符串。
    */
    console.log('alphabet'.toUpperCase());

    /** 
     * String.prototype.toString()
     * toString() 方法返回指定对象的字符串形式。
     * str.toString()
     * 一个表示调用对象的字符串。
    */
    str = new String('123');
    console.log(str.toString());

    /** 
     * String.prototype.trim()
     * trim() 方法会从一个字符串的两端删除空白字符。在这个上下文中的空白字符是所有的空白字符 (space, tab, no-break space 等) 以及所有行终止符字符（如 LF，CR等）。
     * str.trim();
     * 一个代表调用字符串两端去掉空白的新字符串。
    */
    str = '   hello word    ';
    console.log(str.trim());

    /** 
     * String.prototype.trimEnd()
     * trimEnd() 方法从一个字符串的末端移除空白字符。trimRight() 是这个方法的别名。
     * str.trimEnd() str.trimRight()
     * 一个新字符串，表示从调用字串的末（右）端除去空白。
    */
    console.log(str.trimEnd(), str.trimRight());

    /** 
     * String.prototype.trimStart()
     * trimStart() 方法从一个字符串的末端移除空白字符。trimLeft() 是这个方法的别名。
     * str.trimStart() str.trimLeft()
     * 一个新字符串，表示从调用字串的末（右）端除去空白。
    */
    console.log(str.trimStart(), str.trimLeft());

    /** 
     * String.prototype.valueOf()
     * valueOf() 方法返回  String  对象的原始值
     * str.valueOf()
     * 表示给定string对象的原始值的字符串。
    */
    str = new String('test');
    console.log(str.valueOf());
  </script>
</body>
</html>
